<!DOCTYPE html>
<html lang="en">
<head>
	<title>Evan Chen &bullet; XFER</title>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,700;1,400&family=Mate&family=Noto+Serif+TC:wght@500&family=PT+Sans&family=Roboto+Slab:wght@400;500;600&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css">
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"></script>
	<script type="text/javascript">
		MathJax = {
			tex: {
				inlineMath: [
					['$', '$']
				],
				displayMath: [
					['\\[', '\\]']
				],
			}
		};
	</script>
	<script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
	</script>
	<meta charset="UTF-8">
	<meta http-equiv="content-type" content="text/html;charset=UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="keywords" content="evan chen, math, olympiad, IMO, education">
<meta description="Evan Chen | Evan is sending you a file.">
	<link rel="apple-touch-icon" sizes="180x180" href="https://pommebleue.github.io/icons/apple-touch-icon.png">
	<link rel="icon" type="image/png" href="https://pommebleue.github.io/icons/favicon-32x32.png" sizes="32x32">
	<link rel="icon" type="image/png" href="https://pommebleue.github.io/icons/favicon-16x16.png" sizes="16x16">
	<link rel="manifest" href="https://pommebleue.github.io/icons/manifest.json">
	<link rel="mask-icon" href="https://pommebleue.github.io/icons/safari-pinned-tab.svg" color="#5bbad5">
	<link rel="shortcut icon" href="https://pommebleue.github.io/icons/favicon.ico">
	<meta name="msapplication-config" content="icons/browserconfig.xml">
	<meta name="theme-color" content="#ffffff">
	<link type="text/css" rel="stylesheet" href="https://pommebleue.github.io/css/simple-53544.css">
</head>
<body>
	<div class="container">
		<div class="row align-items-center">
			<div class="col-12">
				<div id="header"><a href="/">
						<h1 id="sitetitle">
							Amar AHMANE
						</h1>
					</a>
				</div>
			</div>
		</div>
		<div id="content" class="row">
			<div class="col-12 col-md-3 order-md-last pl-md-1">
				<div id="side">
					<nav class="navbar-light d-md-none navbar">
						<div class="navbar-brand" id="navtitle">
							<code>web.evanchen.cc</code>
						</div>
						<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#collapsedContent" aria-controls="collapsedContent" aria-expanded="false" aria-label="Toggle navigation">
							<span class="navbar-light navbar-toggler-icon"></span>
						</button>
					</nav>
					<div class="collapse d-md-block" id="collapsedContent">
						<h4><a href="https://pommebleue.github.io/index.html">À propos de moi</a></h4>
<h5>&nbsp; &bullet; &nbsp;<a href="https://pommebleue.github.io/upload/public-CV.pdf">CV</a></h5>
<h4><a href="https://pommebleue.github.io/maths.html">Maths</a></h4>
<h5>&nbsp; &bullet; &nbsp;<a href="https://pommebleue.github.io/khollempie.html">Exercices de Khôlle en MPI*</a></h5>
<h5>&nbsp; &bullet; &nbsp;<a href="https://pommebleue.github.io/tipe2023.html">Mon TIPE 2023</a></h5>
<h5>&nbsp; &bullet; &nbsp;<a href="https://pommebleue.github.io/divers.html">Divers</a></h5>
<h4><a href="https://pommebleue.github.io/cours.html">Cours particuliers</a></h4>
<h5>&nbsp; &bullet; &nbsp;<a href="https://pommebleue.github.io/polysexos.html">Supports de cours</a></h5>
<h4><a href="https://pommebleue.github.io/contact.html">Contact</a></h4>
						<br />
					</div>
				</div>
			</div>
			<div class="col-12 col-md-9 order-md-first pr-md-2">
				<div id="main">
					<div class="entry">
						<h1 id="pagetitle"><a href="https://pommebleue.github.io/xfer.html">evanchen.cc XFER</a></h1>
						<div class="entrywrap">
							<div class="alert alert-secondary" id="output">
<h3 class="alert-heading">Hello hello hey</h3>
Evan Chen is sending you a private file,
<a href="https://youtu.be/ChTGq3o9D6c">isn't that great</a>?
</div>

<hr />

<div class="form-group">
<label for="xfer_filename"><h3>Filename</h3></label>
<input class="form-control" style="font-family:Inconsolata,monospace;" id="xfer_filename"></input>
</label>
</div>
<div>
<label for="xfer_password"><h3>Password</h3></label>
<input type="password" class="form-control" id="xfer_password"></input>
</label>
<hr />
<button class="btn btn-primary">Unlock</button>
</div>
<script type="text/javascript">
$(() => {

async function digestMessage(message) {
const msgUint8 = new TextEncoder().encode(message);
const hashBuffer = await crypto.subtle.digest('SHA-512', msgUint8);
const hashArray = Array.from(new Uint8Array(hashBuffer));
const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
return hashHex;
}
const url = new URL(window.location.href);
const init_filename = url.searchParams.get('f');
const target = url.searchParams.get('h');
const salt = url.searchParams.get('s') || '';
if (init_filename) {
$("#xfer_filename").val(init_filename);
}

$("#xfer_password").on('focusout', async () => {
  const filename = $("#xfer_filename").val();
  const password = $("#xfer_password").val();
  const kludge = 'evanchen.cc/xfer|' + filename + '|' + salt + '|' + password;
  const h1 = await digestMessage(kludge);
  const h3 = await digestMessage(h1);
  const checksum = h3.slice(0,6);
  if (password === "") {
    $("#output").removeClass();
    $("#output").addClass("alert alert-warning");
    $("#output").html(
      `<h3 class="alert-heading">Aloha</h3>`
      + `Type the filename and password (both required).`
    );
  } else if (target && target !== checksum && filename === init_filename) {
    $("#output").removeClass();
    $("#output").addClass("alert alert-danger");
    $("#output").html(
      `<h3 class="alert-heading">Wrong!</h3>`
      + `You entered an invalid password, try again.`
    );
  } else if (!target) {
    $("#output").removeClass();
    $("#output").addClass("alert alert-primary")
    $("#output").html(
      `<h3 class="alert-heading">Here you go!</h3>`
      + `<a href="https://pommebleue.github.io/xfer-payload/${h1}" download="${filename}" class="alert-link">`
      + `Download now (checksum ${checksum})</a>. `
      + `If you get a 404 error, check the password.`
    );
  } else {
    $("#output").removeClass();
    $("#output").addClass("alert alert-success")
    $("#output").html(
      `<h3 class="alert-heading">Success!</h3>`
      + `<a href="https://pommebleue.github.io/xfer-payload/${h1}" download="${filename}" class="alert-link"> Download now</a>.`
);
}
});

});
</script>
						</div>
					</div>
					<div>
						<p><div><a href="https://github.com/PommeBleue/pommebleue.github.io">Code source (git)</a></div><div class="text-muted">Mis à jour le Dimanche 14 mai 2023 à 17:55:31 par <a href="https://github.com/PommeBleue/pommebleue.github.io/commit/ebb954208d28367b52e51c55d5593bdfbf897ab6"><code>ebb954208d28</code></a></div></p>
					</div>
				</div>
			</div>
		</div>
	</div><!-- end container -->

	<script>
		(function(i, s, o, g, r, a, m) {
			i['GoogleAnalyticsObject'] = r;
			i[r] = i[r] || function() {
				(i[r].q = i[r].q || []).push(arguments)
			}, i[r].l = 1 * new Date();
			a = s.createElement(o),
				m = s.getElementsByTagName(o)[0];
			a.async = 1;
			a.src = g;
			m.parentNode.insertBefore(a, m)
		})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
		ga('create', 'UA-71669828-1', 'auto');
		ga('send', 'pageview');
	</script>
	<script>
		var ks = [];
		document.addEventListener('keydown', function(e) {
			ks.push(e.keyCode);
			if (ks.length > 10) {
				ks.splice(0, ks.length - 10);
			}
			if (ks.length < 10) return;
			if (ks[0] != ks[1]) return;
			if (ks[2] != ks[3]) return;
			if (ks[4] != ks[6]) return;
			if (ks[5] != ks[7]) return;
			var a, b, d, l, r, u;
			a = ks[9];
			b = ks[8];
			d = ks[2];
			l = ks[4];
			r = ks[5];
			u = ks[0];
			if (a * a + b * b * b + d * d * d * d != 2851721) return;
			if (l * l + r * r * r + u * u * u * u != 2145824) return;
			var s = String.fromCharCode(a + 7) +
				String.fromCharCode(b + 3) +
				String.fromCharCode(d + 42) +
				String.fromCharCode(l + 42) +
				String.fromCharCode(r + 30) +
				String.fromCharCode(u + 45);
			document.location = '//web.evanchen.cc/' + s.toLowerCase() + '.html';
		});
	</script>
	<script>
		$(document).ready(function() {
			const url = 'https://blog.evanchen.cc/feed/';
			$.ajax({
				type: 'GET',
				dataType: 'jsonp',
				url: "https://api.rss2json.com/v1/api.json?rss_url=" + url,
				success: function(data) {
					const pub_date = data.items[0].pubDate;
					const title = data.items[0].title;
					const link = data.items[0].link;
					const cut_title = title.length < 45 ? title : title.substring(0, 45) + '…';
					$("#latest_blog_date").html(pub_date.substring(0, 10));
					$("#latest_blog_anchor").prop('href', link);
					$("#latest_blog_anchor").html(cut_title);
				}
			});
		});
	</script>
</body>
</html>
